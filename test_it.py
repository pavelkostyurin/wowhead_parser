from main import get_page_body, fill_dictionary

d_22691 = {
    'id': 22691,
    'name': 'Corrupted Ashbringer',
    'item level': '86',
    'rarity': 'epic',
    'binds': 'Binds when picked up',
    'unique': 'Unique',
    'min dmg': '259',
    'max dmg': '389',
    'speed': '3.60',
    'dps': '90.00',
    'equip slot': 'Two-Hand',
    'type': 'Sword',
    'stamina': '-25',
    'intellect': None,
    'agility': None,
    'spirit': None,
    'strength': None,
    'armor': None,
    'block': None,
    'fire res': None,
    'nature res': None,
    'frost res': None,
    'shadow res': None,
    'arcane res': None,
    'durability': '120',
    'requires level': '60',
    'effects': 'Inflicts the will of the Ashbringer upon the wielder., Improves your chance to get a critical strike by 2%., Improves your chance to hit by 1%., Steals 185 to 215 life from target enemy.',
    'sell price': '28g 85s 27c',
    'set': None,
    'class': None,
    'enchantment': None,
    'flavour text': 'Blade of the Scarlet Highlord',
    'requires profession': None,
    'begins quest': None,
    'dropped by': None,
    'n/a to players': None,
    'deprecated': None
    }

# to test:
# 'intellect': None,
# 'agility': None,
# 'spirit': None,
# 'strength': None,
# 'armor': None,
# 'fire res': None,
# 'nature res': None,
# 'frost res': None,
# 'shadow res': None,
# 'arcane res': None,
# 'set': None,
# 'class': None,
# 'enchantment': None,
# 'requires profession': None,
# 'begins quest': None,
# 'dropped by': None


d_2801 = {
    'id': 2801,
    'name': 'Blade of Hanna',
    'item level': '64',
    'rarity': 'epic',
    'binds': 'Binds when equipped',
    'unique': 'Unique',
    'min dmg': '101',
    'max dmg': '152',
    'speed': '2.10',
    'dps': '60.24',
    'equip slot': 'Two-Hand',
    'type': 'Sword',
    'stamina': '+11',
    'intellect': '+11',
    'agility': '+11',
    'spirit': '+11',
    'strength': '+11',
    'armor': None,
    'block': None,
    'fire res': None,
    'nature res': None,
    'frost res': None,
    'shadow res': None,
    'arcane res': None,
    'durability': '120',
    'requires level': '59',
    'effects': None,
    'sell price': '10g 47s 29c',
    'set': None,
    'class': None,
    'enchantment': None,
    'flavour text': None,
    'requires profession': None,
    'begins quest': None,
    'dropped by': "Jademir Oracle, Blackhand Iron Guard, Gurubashi Berserker, Gurubashi Champion, Flamewaker Priest, Blackwing Spellbinder, Blackwing Warlock, Death Talon Wyrmguard, Death Talon Flamescale, Death Talon Seether, Chimaerok Devourer, Qiraji Brainwasher, Anubisath Sentinel, Hive'Zara Soldier, Hive'Zara Sandstalker, Hive'Zara Wasp, Hive'Zara Stinger, Flesh Hunter, Colonel Zerran, Colossus of Zora, Colossus of Regal, Colossus of Ashi, Goraluk Anvilcrack, Lava Annihilator, Lava Reaver, Lava Surger, Death Talon Overseer, Qiraji Mindslayer, Venom Belcher, Flameguard, Ancient Core Hound, Flamewaker Elite, Firelord, Molten Destroyer, Molten Giant, Lava Elemental, Lieutenant General Nokhor",
    'n/a to players': None,
    'deprecated': None
}

# to test:
# 'armor': None,
# 'fire res': None,
# 'nature res': None,
# 'frost res': None,
# 'shadow res': None,
# 'arcane res': None,
# 'set': None,
# 'class': None,
# 'enchantment': None,
# 'requires profession': None,
# 'begins quest': None,

d_8627 = {
    'id': 8627,
    'name': 'Reins of the Night saber',
    'item level': '40',
    'rarity': 'common',
    'binds': 'Binds when used',
    'unique': None,
    'min dmg': None,
    'max dmg': None,
    'speed': None,
    'dps': None,
    'equip slot': None,
    'type': 'Mount',
    'stamina': None,
    'intellect': None,
    'agility': None,
    'spirit': None,
    'strength': None,
    'armor': None,
    'block': None,
    'fire res': None,
    'nature res': None,
    'frost res': None,
    'shadow res': None,
    'arcane res': None,
    'durability': None,
    'requires level': '40',
    'effects': 'Summons and dismisses a rideable Sabre Cat.',
    'sell price': '',
    'set': None,
    'class': None,
    'enchantment': None,
    'flavour text': None,
    'requires profession': "('Tiger Riding', '1')",
    'begins quest': None,
    'dropped by': None,
    'n/a to players': None,
    'deprecated': 'Deprecated'
}

# to test:
# 'armor': None,
# 'fire res': None,
# 'nature res': None,
# 'frost res': None,
# 'shadow res': None,
# 'arcane res': None,
# 'set': None,
# 'class': None,
# 'enchantment': None,
# 'begins quest': None,

d_19157 = {
    'id': 19157,
    'name': 'Chromatic Gauntlets',
    'item level': '70',
    'rarity': 'epic',
    'binds': 'Binds when equipped',
    'unique': None,
    'min dmg': None,
    'max dmg': None,
    'speed': None,
    'dps': None,
    'equip slot': 'Hands',
    'type': 'Mail',
    'stamina': None,
    'intellect': None,
    'agility': None,
    'spirit': None,
    'strength': None,
    'armor': '279',
    'block': None,
    'fire res': '+5',
    'nature res': '+5',
    'frost res': '+5',
    'shadow res': '+5',
    'arcane res': None,
    'durability': '50',
    'requires level': '60',
    'effects': ', Improves your chance to get a critical strike by 1%., Improves your chance to get a critical strike with spells by 1%.',
    'sell price': '3g 19s 43c',
    'set': None,
    'class': None,
    'enchantment': None,
    'flavour text': None,
    'requires profession': None,
    'begins quest': None,
    'dropped by': None,
    'n/a to players': None,
    'deprecated': None
}

# to test:
# 'arcane res': None,
# 'set': None,
# 'class': None,
# 'enchantment': None,
# 'begins quest': None,

d_22301 = {
    'id': 22301,
    'name': 'Ironweave Robe',
    'item level': '63',
    'rarity': 'rare',
    'binds': 'Binds when picked up',
    'unique': None,
    'min dmg': None,
    'max dmg': None,
    'speed': None,
    'dps': None,
    'equip slot': 'Chest',
    'type': 'Cloth',
    'stamina': '+24',
    'intellect': '+15',
    'agility': None,
    'spirit': None,
    'strength': None,
    'armor': '219',
    'block': None,
    'fire res': None,
    'nature res': None,
    'frost res': None,
    'shadow res': None,
    'arcane res': None,
    'durability': '80',
    'requires level': '58',
    'effects': None,
    'sell price': '2g 33s 14c',
    'set': 'Ironweave Battlesuit',
    'class': 'Priest, Mage, Warlock',
    'enchantment': None,
    'flavour text': None,
    'requires profession': None,
    'begins quest': None,
    'dropped by': None,
    'n/a to players': None,
    'deprecated': None
}


# to test:
# 'arcane res': None,
# 'enchantment': None,
# 'begins quest': None,

d_16782 = {
    'id': 16782,
    'name': 'Strange Water Globe',
    'item level': '21',
    'rarity': 'uncommon',
    'binds': 'Binds when picked up',
    'unique': 'Unique',
    'min dmg': None,
    'max dmg': None,
    'speed': None,
    'dps': None,
    'equip slot': None,
    'type': None,
    'stamina': None,
    'intellect': None,
    'agility': None,
    'spirit': None,
    'strength': None,
    'armor': None,
    'block': None,
    'fire res': None,
    'nature res': None,
    'frost res': None,
    'shadow res': None,
    'arcane res': None,
    'durability': None,
    'requires level': '21',
    'effects': None,
    'sell price': '',
    'set': None,
    'class': None,
    'enchantment': None,
    'flavour text': None,
    'requires profession': None,
    'begins quest': 'This Item Begins a Quest',
    'dropped by': 'Baron Aquanis',
    'n/a to players': None,
    'deprecated': None
}

# to test:
# 'arcane res': None,
# 'enchantment': None
# 'block': None
# 'n/a to players': None
# 'deprecated' None

d_1985 = {
    'id': 1985,
    'name': 'Monster - Shield, Large Wooden',
    'item level': '1',
    'rarity': 'poor',
    'binds': None,
    'unique': None,
    'min dmg': None,
    'max dmg': None,
    'speed': None,
    'dps': None,
    'equip slot': 'Off Hand',
    'type': 'Shield',
    'stamina': None,
    'intellect': None,
    'agility': None,
    'spirit': None,
    'strength': None,
    'armor': '5',
    'block': '1',
    'fire res': None,
    'nature res': None,
    'frost res': None,
    'shadow res': None,
    'arcane res': None,
    'durability': '20',
    'requires level': None,
    'effects': None,
    'sell price': '2c',
    'set': None,
    'class': None,
    'enchantment': None,
    'flavour text': None,
    'requires profession': None,
    'begins quest': None,
    'dropped by': None,
    'n/a to players': 'This item is not available to players.',
    'deprecated': None
}

# to test:
# 'arcane res': None,
# 'enchantment': None

d_1977 = {
    'id': 1977,
    'name': '20-slot Bag',
    'item level': '1',
    'rarity': 'common',
    'binds': None,
    'unique': None,
    'min dmg': None,
    'max dmg': None,
    'speed': None,
    'dps': None,
    'equip slot': None,
    'type': '20 Slot Bag',
    'stamina': None,
    'intellect': None,
    'agility': None,
    'spirit': None,
    'strength': None,
    'armor': None,
    'block': None,
    'fire res': None,
    'nature res': None,
    'frost res': None,
    'shadow res': None,
    'arcane res': None,
    'durability': None,
    'requires level': None,
    'effects': None,
    'sell price': '',
    'set': None,
    'class': None,
    'enchantment': None,
    'flavour text': None,
    'requires profession': None,
    'begins quest': None,
    'dropped by': None,
    'n/a to players': None,
    'deprecated': 'Deprecated'
}

# to test:
# 'arcane res': None,
# 'enchantment': None


# Corrupted Ashbringer (Epic with flavour text and negative stamina)
def test_negative_sta_flavour():
    process_id(d_22691, 22691)


# Blade of Hanna (stats and drop list)
def test_stats():
    process_id(d_2801, 2801)


# mount that require profession Tiger Riding (1)
def test_mount_deprecated():
    process_id(d_8627, 8627)


# Chromatic cloak (resistances)
def test_resistances():
    process_id(d_19157, 19157)


# Ironweave Robe (set, require certain classes)
def test_set_class():
    process_id(d_22301, 22301)


# Strange water globe
def test_quest_item():
    process_id(d_16782, 16782)


# Block value, hyphen and comma in name, n/a to players
def test_na_block_hyphen_comma_name():
    process_id(d_1985, 1985)


# Deprecated 20-slot bag
def test_deprecated_20_slot_bag():
    process_id(d_1977, 1977)


def process_id(d_ref, id: int):
    """Helper method with boilerplate code"""
    item_page_body = get_page_body(id)
    d = fill_dictionary(id, item_page_body)
    assert d_ref == d
